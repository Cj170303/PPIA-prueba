{"ast":null,"code":"import{React,useState,useRef,useEffect}from\"react\";import TextField from\"@mui/material/TextField\";import authConf from\"./authConf.json\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[studentNumber,setStudentNumber]=useState('');const[password,setPassword]=useState('');const[connected,setConnected]=useState(false);const[responseStudent,setResponseStudent]=useState([]);const[chatHistory,setChatHistory]=useState([[]]);const[currentChatHistory,setCurrentChatHistory]=useState({conversation:[],conversationIndex:-1});const chatHistoryRef=useRef(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleError=errorMessage=>{setError(errorMessage);};const handleClose=()=>{setError(null);};function ErrorModal(_ref){let{error,onClose}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"p\",{children:error})]})});}const handleLogin=e=>{e.preventDefault();// Check if the entered credentials match any in the JSON\nconst userExists=authConf.users.some(user=>user.studentNumber===studentNumber&&user.password===password);if(userExists){setConnected(true);}else{console.log(\"Nombre de usuario o contraseña incorrectos, por favor inténtalo de nuevo.\");}};const fetchChatHistory=async()=>{try{const response=await fetch('History.json');const data=await response.json();if(data[0].length===0){setChatHistory([]);setCurrentChatHistory({conversationIndex:0,conversation:[]});}else{setChatHistory(data);setCurrentChatHistory({conversationIndex:data.length-1,conversation:data[data.length-1]});}}catch(error){console.error('Error fetching chat history:',error);}};const inputHandler=e=>{const userInput=e.target.value;setResponseStudent(userInput);};// Submission of the query to the back API\nconst handleSubmit=()=>{setLoading(true);const jsonData={responseStudent:responseStudent,history:currentChatHistory.conversation};fetch('api/query',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(jsonData)}).then(response=>response.json()).then(data=>{setLoading(false);if(data.message.responseChatbot===\"reinit\"){fetchChatHistory();}else{setCurrentChatHistory(prevHistory=>({conversation:[...(prevHistory.conversation||[]),{id:data.message.id,responseStudent:responseStudent,responseChatbot:data.message.responseChatbot}],conversationIndex:prevHistory.conversationIndex}));// Update  the global chat history to avoid incoherences\nif(currentChatHistory.conversation===undefined||currentChatHistory.conversation.length===0){setChatHistory([...chatHistory,[{id:data.message.id,responseStudent:responseStudent,responseChatbot:data.message.responseChatbot}]]);}else{const updatedHistory=chatHistory.map((conversation,index)=>{if(index===currentChatHistory.conversationIndex){return[...currentChatHistory.conversation,{id:data.message.id,responseStudent:responseStudent,responseChatbot:data.message.responseChatbot}];}return conversation;});setChatHistory(updatedHistory);}// Clear the TextField\nsetResponseStudent('');}}).catch(error=>{console.error('Error while sending the request to the backend: ',error);handleError(\"Ha ocurrido un error: por favor verifica que su pregunta no esté vacía.\");setLoading(false);});};const isImageUrl=url=>{return /\\.(jpg|jpeg|png|gif|bmp|webp)$/i.test(url);};useEffect(()=>{if(chatHistoryRef.current){chatHistoryRef.current.scrollTop=chatHistoryRef.current.scrollHeight;}},[chatHistory]);useEffect(()=>{fetchChatHistory();},[]);if(!connected){return/*#__PURE__*/_jsxs(\"div\",{className:\"container-form\",children:[\" \",/*#__PURE__*/_jsx(\"form\",{id:\"msform\",children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Por favor, autent\\xEDquese \"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:studentNumber,onChange:e=>setStudentNumber(e.target.value),placeholder:\"N\\xFAmero estudiante\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Contrase\\xF1a\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"saveHistory-button\",onClick:handleLogin,children:\"Entrar\"})]})})]});}// Front\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Quiz de Matematicas\"}),/*#__PURE__*/_jsx(\"div\",{class:\"border d-table w-100\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"history-panel right\",children:/*#__PURE__*/_jsx(\"div\",{className:\"history-scroll\",ref:chatHistoryRef,children:/*#__PURE__*/_jsx(\"ul\",{children:currentChatHistory&&currentChatHistory.conversation.map((item,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"messages\",children:[item.responseStudent&&/*#__PURE__*/_jsx(\"p\",{className:\"whatsapp-bubble send\",children:item.responseStudent}),item.responseChatbot&&(isImageUrl(item.responseChatbot)?/*#__PURE__*/_jsx(\"img\",{src:item.responseChatbot,alt:\"Chatbot Response\",className:\"chatbot-image\"}):/*#__PURE__*/_jsx(\"p\",{className:\"whatsapp-bubble received\",children:item.responseChatbot}))]},index))})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",value:responseStudent,onChange:inputHandler,onKeyPress:e=>{if(e.key==='Enter'){handleSubmit();}},variant:\"outlined\",fullWidth:true,label:\"Respuesta\"}),/*#__PURE__*/_jsx(\"button\",{className:\"search-button\",onClick:handleSubmit,disabled:loading,children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}):'Enviar'}),error&&/*#__PURE__*/_jsx(ErrorModal,{error:error,onClose:handleClose})]})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","TextField","authConf","jsx","_jsx","jsxs","_jsxs","App","studentNumber","setStudentNumber","password","setPassword","connected","setConnected","responseStudent","setResponseStudent","chatHistory","setChatHistory","currentChatHistory","setCurrentChatHistory","conversation","conversationIndex","chatHistoryRef","loading","setLoading","error","setError","handleError","errorMessage","handleClose","ErrorModal","_ref","onClose","className","children","onClick","handleLogin","e","preventDefault","userExists","users","some","user","console","log","fetchChatHistory","response","fetch","data","json","length","inputHandler","userInput","target","value","handleSubmit","jsonData","history","method","headers","body","JSON","stringify","then","message","responseChatbot","prevHistory","id","undefined","updatedHistory","map","index","catch","isImageUrl","url","test","current","scrollTop","scrollHeight","type","onChange","placeholder","class","ref","item","src","alt","onKeyPress","key","variant","fullWidth","label","disabled"],"sources":["C:/Users/ambre/Desktop/INSA/5A/MATEO/PPIA/ppia/Front_React/src/App.js"],"sourcesContent":["import { React, useState, useRef, useEffect } from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport authConf from \"./authConf.json\";\nimport \"./App.css\";\n\nfunction App() {\n  const [studentNumber, setStudentNumber] = useState('')\n  const [password, setPassword] = useState('')\n  const [connected, setConnected] = useState(false)\n\n  const [responseStudent, setResponseStudent] = useState([])\n  const [chatHistory, setChatHistory] = useState([[]])\n  const [currentChatHistory, setCurrentChatHistory] = useState({ conversation: [], conversationIndex: -1 });\n\n  const chatHistoryRef = useRef(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleError = (errorMessage) => {\n    setError(errorMessage);\n  };\n\n  const handleClose = () => {\n    setError(null);\n  };\n\n  function ErrorModal({ error, onClose }) {\n    return (\n      <div className=\"modal\">\n        <div className=\"modal-content\">\n          <span className=\"close\" onClick={onClose}>&times;</span>\n          <p>{error}</p>\n        </div>\n      </div>\n    );\n  }\n  \n  const handleLogin = (e) => {\n    e.preventDefault();\n    \n    // Check if the entered credentials match any in the JSON\n    const userExists = authConf.users.some(\n      user => user.studentNumber === studentNumber && user.password === password\n    );\n    \n    if (userExists) {\n      setConnected(true);\n    } else {\n      console.log(\"Nombre de usuario o contraseña incorrectos, por favor inténtalo de nuevo.\");\n    }\n  };\n\n  const fetchChatHistory = async () => {\n    try {\n      const response = await fetch('History.json');\n      const data = await response.json();\n      if (data[0].length === 0) {\n        setChatHistory([]);\n        setCurrentChatHistory({ conversationIndex: 0, conversation: [] });\n      } else {\n        setChatHistory(data);\n        setCurrentChatHistory({ \n          conversationIndex: data.length - 1, \n          conversation: data[data.length - 1] \n        });\n      }\n    } catch (error) {\n      console.error('Error fetching chat history:', error);\n    }\n  };\n\n\n  const inputHandler = (e) => {\n    const userInput = e.target.value;\n    setResponseStudent(userInput);\n  };\n\n  \n  // Submission of the query to the back API\n  const handleSubmit = () => {\n    setLoading(true);\n    const jsonData = {\n      responseStudent: responseStudent,\n      history: currentChatHistory.conversation,\n    };\n  \n    fetch('api/query', {\n      method: 'POST', \n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(jsonData),\n    })\n    .then(response => response.json())\n    .then(data => {\n      setLoading(false);\n      if (data.message.responseChatbot === \"reinit\") {\n        fetchChatHistory();\n      } else {\n        setCurrentChatHistory(prevHistory => ({conversation:\n          [\n          ...(prevHistory.conversation || []),\n          { id: data.message.id, responseStudent: responseStudent, responseChatbot: data.message.responseChatbot}\n          ],\n          conversationIndex: prevHistory.conversationIndex })\n        );\n        \n\n        // Update  the global chat history to avoid incoherences\n        if (currentChatHistory.conversation===undefined || currentChatHistory.conversation.length===0){\n          setChatHistory([...chatHistory, [{ id: data.message.id, responseStudent: responseStudent, responseChatbot: data.message.responseChatbot}]]);\n        } else {\n          const updatedHistory = chatHistory.map((conversation, index) => {\n            if (index === currentChatHistory.conversationIndex) {\n              return [...currentChatHistory.conversation, { id: data.message.id, responseStudent: responseStudent, responseChatbot: data.message.responseChatbot}];\n            }\n            return conversation;\n          });\n          setChatHistory(updatedHistory);\n        }\n        // Clear the TextField\n        setResponseStudent('');\n      }\n    })\n    .catch(error => {\n      console.error('Error while sending the request to the backend: ', error);\n      handleError(\"Ha ocurrido un error: por favor verifica que su pregunta no esté vacía.\");\n      setLoading(false);\n    });\n  };\n\n  const isImageUrl = (url) => {\n    return /\\.(jpg|jpeg|png|gif|bmp|webp)$/i.test(url);\n  };\n  \n\n  useEffect(() => {\n    if (chatHistoryRef.current) {\n      chatHistoryRef.current.scrollTop = chatHistoryRef.current.scrollHeight;\n    }\n  }, [chatHistory]);\n  \n  useEffect(() => {\n    fetchChatHistory();\n  }, []);   \n\n  if (!connected){\n    return(<div className=\"container-form\"> <form  id=\"msform\"><fieldset><h2>Por favor, autentíquese </h2>\n      <p><input type=\"text\" value={studentNumber} onChange={(e) => setStudentNumber(e.target.value)} placeholder=\"Número estudiante\"/></p>\n      <p><input type=\"password\" value={password} onChange={(e)=>setPassword(e.target.value)} placeholder=\"Contraseña\"/></p>\n      <button className=\"saveHistory-button\" onClick={handleLogin}>Entrar</button>\n  </fieldset></form></div>);\n  }\n\n  // Front\n  return (\n    <div className=\"main\">\n      <h1>Quiz de Matematicas</h1>\n      <div class=\"border d-table w-100\">\n      </div>\n      <div className='container'>\n        <div className=\"history-panel right\">\n          <div className=\"history-scroll\"  ref={chatHistoryRef}>\n            <ul>\n            \n            {currentChatHistory && currentChatHistory.conversation.map((item, index) => (\n              <li className=\"messages\" key={index}>\n                {item.responseStudent && (\n                  <p className=\"whatsapp-bubble send\">{item.responseStudent}</p>\n                )}\n                {item.responseChatbot && (\n                isImageUrl(item.responseChatbot) ? (\n                  <img\n                    src={item.responseChatbot}\n                    alt=\"Chatbot Response\"\n                    className=\"chatbot-image\"\n                  />\n                ) : (\n                  <p className=\"whatsapp-bubble received\">{item.responseChatbot}</p>\n                )\n              )}\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n    <div className=\"search\">\n      <TextField\n        id=\"outlined-basic\"\n        value={responseStudent}\n        onChange={inputHandler}\n        onKeyPress={(e) => {\n          if (e.key === 'Enter') {\n            handleSubmit();\n          }\n        }}\n        variant=\"outlined\" \n        fullWidth\n        label=\"Respuesta\"\n      />\n      <button className=\"search-button\" onClick={handleSubmit} disabled={loading}>\n            {loading ? <div className=\"loading-spinner\"></div> : 'Enviar'}\n      </button>\n      {error && <ErrorModal error={error} onClose={handleClose} />}\n    </div>\n  </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}